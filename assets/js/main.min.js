(o=>{window.qodeCompareForWooCommerce={},qodeCompareForWooCommerce.body=o("body"),qodeCompareForWooCommerce.html=o("html"),qodeCompareForWooCommerce.windowWidth=o(window).width(),qodeCompareForWooCommerce.windowHeight=o(window).height(),qodeCompareForWooCommerce.scroll=0,o(document).ready(function(){qodeCompareForWooCommerce.scroll=o(window).scrollTop()}),o(window).resize(function(){qodeCompareForWooCommerce.windowWidth=o(window).width(),qodeCompareForWooCommerce.windowHeight=o(window).height()}),o(window).scroll(function(){qodeCompareForWooCommerce.scroll=o(window).scrollTop()}),o(window).on("load",function(){}),qodeCompareForWooCommerce.qodeCompareForWooCommerceAppear={init:function(){this.holder=o(".qcfw--has-appear:not(.qcfw--appeared)"),this.holder.length&&this.holder.each(function(){var e=o(this);qodeCompareForWooCommerce.qodeCompareForWooCommerceIsInViewport.check(e,function(){qodeCompareForWooCommerce.qodeCompareForWooCommerceWaitForImages.check(e,function(){e.addClass("qcfw--appeared")})})})}},qodeCompareForWooCommerce.qodeCompareForWooCommerceIsInViewport={check:function(o,t,n,r){var e,a;o.length&&(e=void 0!==o.data("viewport-offset")?o.data("viewport-offset"):.15,(a=new IntersectionObserver(function(e){!0===e[0].isIntersecting?(t.call(o),!1!==n&&a.disconnect()):r&&!1===n&&r.call(o)},{threshold:[e]})).observe(o[0]))}},qodeCompareForWooCommerce.qodeCompareForWooCommerceWaitForImages={check:function(e,o){if(e.length){var t=e.find("img"),n=t.length;if(n)for(var r=0,a=0;a<n;a++){var c,i=t[a];i.complete?++r===n&&o.call(e):((c=new Image).addEventListener("load",function(){if(++r===n)return o.call(e),!1},!1),c.src=i.src)}else o.call(e)}}};var n={disable:function(){window.addEventListener&&window.addEventListener("wheel",n.preventDefaultValue,{passive:!1}),document.onkeydown=n.keyDown},enable:function(){window.removeEventListener&&window.removeEventListener("wheel",n.preventDefaultValue,{passive:!1}),window.onmousewheel=document.onmousewheel=document.onkeydown=null},preventDefaultValue:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1},keyDown:function(e){for(var o=[37,38,39,40],t=o.length;t--;)if(e.keyCode===o[t])return void n.preventDefaultValue(e)}};qodeCompareForWooCommerce.qodeCompareForWooCommerceScroll=n})(jQuery),(i=>{i(document).ready(function(){m.init()});var m={_instance:null,init:function(){return this._instance||(this._instance=this)._init(),this._instance},_init:function(){var t=this.getHolder();t.length&&(i(document.body).on("qode_compare_for_woocommerce_trigger_show_comparison_modal",function(e,o){(o=void 0!==o&&o)?i(document.body).trigger("qode_compare_for_woocommerce_trigger_table_update",[t,"",["all"],"","update_fields",!0]):m.showElement(t)}),i(document).on("qode_compare_for_woocommerce_trigger_comparison_table_updated",function(e,o,t,n,r){m.reInit(o,n,r)}),i(document.body).on("qode_compare_for_woocommerce_trigger_table_update",function(e,o,t,n,r,a,c){m.updateTable(o,t,n,r,a,c)}),this.setEventsActions(t))},reInit:function(e,o,t){m.setEventsActions(e,t),m.setRemoveItemAction(e,o,t)},getHolder:function(){return i("#qcfw-modal")},setEventsActions:function(e,o){m.setCloseModalActions(e),m.setRemoveEventActions(e),m.setDragEventActions(e.find(".qcfw-m-items"))},setCloseModalActions:function(o){o.find(".qcfw-m-close").on("click",function(e){e.preventDefault(),m.hideElement(o)}),o.children(".qcfw-m-overlay").on("click",function(){m.hideElement(o)})},setRemoveEventActions:function(o){var e=o.find(".qcfw-m-remove-button");e.length&&e.off().on("click",function(e){e.preventDefault(),m.removeItem(o,i(this))})},setDragEventActions:function(t){var n,r,a;"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||(n=!1,t.width()<t.prop("scrollWidth")&&(t.css("cursor","grab"),t.on("mousedown",function(e){var o=i(e.target);if(!o.closest("a").length&&!o.closest("a").length)return n=!0,r=e.pageX-t.offset().left,a=t.scrollLeft(),t.css("cursor","grabbing"),!1}),i(document).on("mouseup",function(){n=!1,t.css("cursor","grab")}),t.on("mouseleave",function(){n=!1,t.css("cursor","grab")}),t.on("mousemove",function(e){n&&(e.preventDefault(),e=e.pageX-t.offset().left-r,t.scrollLeft(a-e))})))},removeItem:function(o,t){var e,n=m.getRemovedItemID(t);qodeCompareForWooCommerceGlobal.removalConfirmation?(e=t.attr("data-confirm-text"),m.handleConfirmBox(e,qodeCompareForWooCommerceGlobal.modalHTML).then(function(e){e&&i(document.body).trigger("qode_compare_for_woocommerce_trigger_table_update",[o,t,[n],"","remove"])})):i(document.body).trigger("qode_compare_for_woocommerce_trigger_table_update",[o,t,[n],"","remove"])},getRemovedItemID:function(e){return"all"!==e.attr("data-item-id")?parseInt(e.attr("data-item-id"),10):e.attr("data-item-id")},handleConfirmBox:function(e,o){var n=document.createElement("div");return n.classList.add("qcfw-confirm-modal"),n.classList.add("qcfw-m"),n.classList.add("qcfw--opened"),n.innerHTML=o,document.body.appendChild(n),i(".qcfw-m-dialog-content .qcfw-m-form-title").html(e),new Promise(function(o,e){var t=document.getElementById("qcfw-confirm-button-true");t&&t.addEventListener("click",function(){o(!0),document.body.removeChild(n)});["qcfw-confirm-modal-overlay","qcfw-confirm-button-false"].forEach(function(e){document.getElementById(e).addEventListener("click",function(){o(!1),document.body.removeChild(n)})})})},updateTable:function(o,t,n,e,r,a){var e=void 0!==e&&e.length?e:o.attr("data-table"),c=m.getRequestOptions(o,t);a=void 0!==a&&a,i.ajax({type:"POST",url:qodeCompareForWooCommerceGlobal.restUrl+qodeCompareForWooCommerceGlobal.compareTableRestRoute,data:{item_ids:n,action:r,table:e,token:o.attr("data-token"),options:JSON.stringify(c),security_token:qodeCompareForWooCommerceGlobal.restNonce},beforeSend:function(e){m.beforeTableUpdate(e,o,t,a)},complete:function(){m.afterTableUpdate(o,t,a)},success:function(e){"success"===e.status?(m.updateTableContent(o,e.data,n,r),i(document.body).trigger("qode_compare_for_woocommerce_trigger_comparison_table_updated",[o,e.data,n,r]),o.addClass("qcfw--initialized")):"error"===e.status&&console.log(e.message)}})},getRequestOptions:function(e,o){var t=i(".qcfw-compare.qcfw-widget");return t.length&&t.attr("data-widget-atts")?JSON.parse(t.attr("data-widget-atts")):{}},beforeTableUpdate:function(e,o,t,n){e.setRequestHeader("X-WP-Nonce",qodeCompareForWooCommerceGlobal.restNonce),o.addClass("qcfw--table-updating"),t.length&&t.addClass("qcfw--loading"),n&&m.showElement(o)},afterTableUpdate:function(e,o){e.removeClass("qcfw--table-updating"),o.length&&o.removeClass("qcfw--loading")},updateTableContent:function(e,o,t,n){var r=o.not_found_content||o.new_content,r=(e.find(".qcfw-m-table-wrapper").empty().html(r),o.not_found_content?e.addClass("qcfw--empty"):e.removeClass("qcfw--empty"),o.items_count&&o.items_count<7?o.items_count+1:7);e.is("#qcfw-modal")&&e.find(".qcfw-compare-table").css("--qcfw-columns",r)},showElement:function(e){e.hasClass("qcfw--opened")||e.addClass("qcfw--opened")},hideElement:function(e){e.hasClass("qcfw--opened")&&e.removeClass("qcfw--opened"),e.hasClass("qcfw--empty")&&e.removeClass("qcfw--initialized")},setRemoveItemAction:function(e,o,t){"remove"===t&&o.forEach(function(e){var o="all"===e?i(".qcfw--added"):i(".qcfw--added").filter(function(){return i(this).data("item-id")===e});qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareButton.modifyButton(o,t)})}};qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareTable=m})(jQuery),(r=>{r(document).ready(function(){a.init()});var a={_instance:null,init:function(){return this._instance||(this._instance=this)._init(),this._instance},_init:function(){var e=r(".qcfw-button");e.length&&(this.setEvents(e),this.setCompareEvents())},setEvents:function(e){a.setButtonsClickEvent(e)},setButtonsClickEvent:function(e){e.off().on("click",function(e){e.preventDefault();var e=r(this),o=e.hasClass("qcfw--added")?"view":"add";a.compareItem(e,o)})},setCompareEvents:function(){r(document.body).on("qode_compare_for_woocommerce_trigger_compare",function(e,o,t,n){a.handleButtonAction(o,t,n)})},compareItem:function(e,o){var t,n=qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareTable.getHolder(),o=void 0!==o?o:e.hasClass("qcfw--added")?"view":"add";"view"===o&&n.hasClass("qcfw--initialized")?r(document.body).trigger("qode_compare_for_woocommerce_trigger_show_comparison_modal"):(n=parseInt(e.attr("data-item-id"),10),t=a.getRequestOptions(e),a.handleAjax(e,n,o,t))},getRequestOptions:function(e){return e.attr("data-shortcode-atts")?JSON.parse(e.attr("data-shortcode-atts")):{}},handleAjax:function(o,e,t,n){r.ajax({type:"POST",url:qodeCompareForWooCommerceGlobal.restUrl+qodeCompareForWooCommerceGlobal.compareRestRoute,data:{item_id:e,action:t,options:JSON.stringify(n),security_token:qodeCompareForWooCommerceGlobal.restNonce},beforeSend:function(e){a.beforeCompare(e,o)},complete:function(){a.afterCompare(o)},success:function(e){"success"===e.status?r(document.body).trigger("qode_compare_for_woocommerce_trigger_compare",[o,t,e.data]):"error"===e.status&&console.log(e.message)}})},beforeCompare:function(e,o){e.setRequestHeader("X-WP-Nonce",qodeCompareForWooCommerceGlobal.restNonce),o.addClass("qcfw--loading")},afterCompare:function(e){e.removeClass("qcfw--loading")},handleButtonAction:function(e,o,t){var n=qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareTable.getHolder();r(document.body).trigger("qode_compare_for_woocommerce_trigger_table_update",[n,"",["all"],"","update_fields"]),"add"===o&&a.modifyButton(e),"view"!==o&&!qodeCompareForWooCommerceGlobal.autoPopup||r(document.body).trigger("qode_compare_for_woocommerce_trigger_show_comparison_modal")},modifyButton:function(e,o){a.modifyButtonText(e)},modifyButtonText:function(e){var o=e.find(".qcfw-button-text");e.hasClass("qcfw--added")?(e.removeClass("qcfw--added"),o.length&&o.html(qodeCompareForWooCommerceGlobal.buttonText)):(e.addClass("qcfw--added"),o.length&&o.html(qodeCompareForWooCommerceGlobal.addedText))}};qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareButton=a})(jQuery),(t=>{t(document).ready(function(){r.init()});var r={init:function(){var n=t(".widget_qode_compare_for_woocommerce_compare");this.setEvents(n),t(document.body).on("qode_compare_for_woocommerce_trigger_comparison_table_updated",function(e,o,t){r.updateTableContent(n,t)})},setEvents:function(e){var o;e.length&&(o=e.find(".qcfw-m-remove-button"),e=e.find(".qcfw-m-open-compare"),o.length&&o.off().on("click",function(e){e.preventDefault();e=qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareTable.getRemovedItemID(t(this));t(document.body).trigger("qode_compare_for_woocommerce_trigger_table_update",[qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareTable.getHolder(),t(this),[e],"","remove"])}),e.length)&&r.handleOpenerClick(e)},updateTableContent:function(e,o){o.widget_new_content&&e.find(".qcfw-m-inner").empty().html(o.widget_new_content),r.setEvents(e)},handleOpenerClick:function(e){e.off().on("click",function(e){e.preventDefault(),t(document.body).trigger("qode_compare_for_woocommerce_trigger_show_comparison_modal",[!0])})}};qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareWidget=r})(jQuery),(r=>{r(document).ready(function(){a.init()});var a={init:function(){var n=r(".widget .qcfw-compare-counter");this.setEvents(n),r(document.body).on("qode_compare_for_woocommerce_trigger_comparison_table_updated",function(e,o,t){a.updateContent(n,t)})},setEvents:function(e){e.length&&(e=e.find(".qcfw-m-open-compare")).length&&a.handleOpenerClick(e)},updateContent:function(e,t){e.length&&e.each(function(){var e=r(this),o=!1;e.hasClass("qcfw-layout--top-right-count")&&t.widget_counter_trc_new_content?o=t.widget_counter_trc_new_content:e.hasClass("qcfw-layout--with-icon")&&t.widget_counter_wi_new_content?o=t.widget_counter_wi_new_content:e.hasClass("qcfw-layout--icon")&&t.widget_counter_icon_new_content&&(o=t.widget_counter_icon_new_content),o&&(e.find(".qcfw-m-inner").empty().html(o),a.setEvents(e))})},handleOpenerClick:function(e){e.off().on("click",function(e){e.preventDefault(),r(document.body).trigger("qode_compare_for_woocommerce_trigger_show_comparison_modal",[!0])})}};qodeCompareForWooCommerce.qodeCompareForWooCommerceCompareCounterWidget=a})(jQuery);